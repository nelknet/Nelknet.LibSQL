# EditorConfig is awesome: https://EditorConfig.org

# top-most EditorConfig file
root = true

# All files
[*]
indent_style = space
charset = utf-8
trim_trailing_whitespace = true
insert_final_newline = true

# C# files
[*.cs]
indent_size = 4

# Code style rules
dotnet_sort_system_directives_first = true
dotnet_separate_import_directive_groups = false

# Package validation
dotnet_diagnostic.NETSDK1023.severity = error  # PackageIcon should be a file
dotnet_diagnostic.NU5104.severity = error      # A stable release of a package should not have a prerelease dependency
dotnet_diagnostic.NU5105.severity = error      # The package version uses SemVer 2.0.0 or later
dotnet_diagnostic.NU5125.severity = error      # The <licenseUrl> element is deprecated
dotnet_diagnostic.NU5131.severity = error      # The <iconUrl> element is deprecated
dotnet_diagnostic.NU5048.severity = error      # The 'PackageIcon' and/or 'PackageReadmeFile' does not exist

# XML project files
[*.{csproj,vbproj,vcxproj,vcxproj.filters,proj,projitems,shproj}]
indent_size = 2

# JSON files
[*.json]
indent_size = 2

# YAML files
[*.{yml,yaml}]
indent_size = 2

# Markdown files
[*.md]
trim_trailing_whitespace = false

# Analyzer configurations
[*.cs]

# IDisposableAnalyzers
# IDISP001: Dispose created - Important but needs careful review
dotnet_diagnostic.IDISP001.severity = warning

# IDISP003: Dispose previous before re-assigning - Can be noisy
dotnet_diagnostic.IDISP003.severity = suggestion

# IDISP004: Don't ignore created IDisposable
dotnet_diagnostic.IDISP004.severity = warning

# IDISP007: Don't dispose injected - Important
dotnet_diagnostic.IDISP007.severity = warning

# IDISP008: Don't assign member with injected and created disposables
dotnet_diagnostic.IDISP008.severity = suggestion

# IDISP025: Class with no virtual dispose method should be sealed
dotnet_diagnostic.IDISP025.severity = suggestion

# Meziantou.Analyzer configurations
# MA0004: Use .ConfigureAwait(false) - Important for library code
dotnet_diagnostic.MA0004.severity = warning

# MA0006: Use String.Equals instead of equality operator - Can be noisy
dotnet_diagnostic.MA0006.severity = suggestion

# MA0011: Use an overload with IFormatProvider - Good for libraries
dotnet_diagnostic.MA0011.severity = suggestion

# MA0015: Use overload with parameter name
dotnet_diagnostic.MA0015.severity = warning

# MA0025: Implement the functionality - Disable for TODO comments
dotnet_diagnostic.MA0025.severity = none

# MA0026: Fix TODO comment - Disable
dotnet_diagnostic.MA0026.severity = none

# MA0048: File name must match type name - Can be annoying for partial classes
dotnet_diagnostic.MA0048.severity = suggestion

# MA0051: Method is too long - Subjective
dotnet_diagnostic.MA0051.severity = none

# MA0053: Make class sealed - Not always desired for library code
dotnet_diagnostic.MA0053.severity = suggestion

# MA0074: Use StringComparison with string methods
dotnet_diagnostic.MA0074.severity = suggestion

# MA0097: A class that implements IComparable<T> should also override comparison operators
dotnet_diagnostic.MA0097.severity = suggestion

# MA0134: Observe result of async calls
dotnet_diagnostic.MA0134.severity = warning

# Test-specific suppressions
[*Tests.cs]
# MA0004: ConfigureAwait(false) is not needed in tests
dotnet_diagnostic.MA0004.severity = none

# IDISP001: Dispose created - Tests often have different disposal patterns
dotnet_diagnostic.IDISP001.severity = suggestion

# IDISP003: Dispose previous before re-assigning - Common in tests
dotnet_diagnostic.IDISP003.severity = suggestion

# MA0053: Seal classes - Not important in tests
dotnet_diagnostic.MA0053.severity = none